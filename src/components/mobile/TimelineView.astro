---
import ViewContainer from '../shared/ViewContainer.astro';
import ChapterHeader from './storybook/ChapterHeader.astro';
---
<ViewContainer id="view-timeline">
    <div class="frost-viewport frost-viewport--compact">
        <ChapterHeader
            chapter="Chapter 3: Tiny Tracks in the Snow"
            title="Watch Me Grow"
            narrator="Restore the timeline, from earliest to latest..."
        />

        <div class="frost-card frost-card--glow frost-card--no-scroll">
            <!-- Waiting state -->
            <div id="timeline-waiting" class="frost-waiting">
                <p class="frost-waiting__text">Preparing milestone cards...</p>
                <div class="frost-waiting__icon waiting-pulse">❄</div>
            </div>

            <!-- Active timeline -->
            <div id="timeline-active" class="hidden frost-timeline">
                <p class="frost-card__instruction">Drag to arrange earliest → latest</p>
                <ul id="timeline-list" class="frost-timeline__list">
                    <!-- Items injected dynamically -->
                </ul>
            </div>
        </div>

        <div class="frost-actions frost-actions--tight">
            <button id="timeline-submit" class="frost-btn frost-btn--enchanted">
                Submit Order
            </button>
            <p id="timeline-status" class="frost-status"></p>
        </div>
    </div>
</ViewContainer>